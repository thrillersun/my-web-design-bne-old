!function(e){var a,t,i;"function"==typeof define&&define.amd&&(define(e),a=!0),"object"==typeof exports&&(module.exports=e(),a=!0),a||(t=window.Cookies,(i=window.Cookies=e()).noConflict=function(){return window.Cookies=t,i})}(function(){function o(){for(var e=0,a={};e<arguments.length;e++){var t,i=arguments[e];for(t in i)a[t]=i[t]}return a}function p(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function e(m){function s(){}function t(e,a,t){if("undefined"!=typeof document){"number"==typeof(t=o({path:"/"},s.defaults,t)).expires&&(t.expires=new Date(+new Date+864e5*t.expires)),t.expires=t.expires?t.expires.toUTCString():"";try{var i=JSON.stringify(a);/^[\{\[]/.test(i)&&(a=i)}catch(e){}a=m.write?m.write(a,e):encodeURIComponent(String(a)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var r,n="";for(r in t)t[r]&&(n+="; "+r,!0!==t[r])&&(n+="="+t[r].split(";")[0]);return document.cookie=e+"="+a+n}}function a(e,a){if("undefined"!=typeof document){for(var t={},i=document.cookie?document.cookie.split("; "):[],r=0;r<i.length;r++){var n=i[r].split("="),s=n.slice(1).join("=");a||'"'!==s.charAt(0)||(s=s.slice(1,-1));try{var o=p(n[0]),s=(m.read||m)(s,o)||p(s);if(a)try{s=JSON.parse(s)}catch(e){}if(t[o]=s,e===o)break}catch(e){}}return e?t[e]:t}}return s.set=t,s.get=function(e){return a(e,!1)},s.getJSON=function(e){return a(e,!0)},s.remove=function(e,a){t(e,"",o(a,{expires:-1}))},s.defaults={},s.withConverter=e,s}(function(){})}),function(){"use strict";({params:{},read_params:function(){return void 0!==window.bbgfb_cookies&&void 0!==window.bbgfb_cookies.campaign&&void 0!==window.bbgfb_cookies.expires&&(this.params=window.bbgfb_cookies,this.params.expires=parseFloat(this.params.expires),!0)},getParameterByName:function(e,a){void 0!==a&&a||(a=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");e=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(a);return e?e[2]?decodeURIComponent(e[2].replace(/\+/g," ")):"":null},splitParams:function(e){var a=[];if("string"==typeof e)for(var t=(a=e.split(",")).length-1;0<=t;t--)""===a[t]&&a.splice(t,1);return a},getTieredValue:function(e){if(void 0!==e){var a=Cookies.get(e);if(a)return a;for(var t=this.splitParams(this.params.additional_persistent_tracking_addendums),i=0;i<t.length;i++){var r=e+t[i],r=this.getParameterByName(r);if(r)return r}}return null},set_cookies:function(){for(var e=this.getParameterByName(this.params.campaign),a=this.getParameterByName(this.params.campaign_mpam),t=this.getParameterByName(this.params.campaign_tactic),i=(e&&Cookies.set(this.params.campaign,e,{expires:this.params.expires,path:this.params.path}),a&&Cookies.set(this.params.campaign_mpam,a,{expires:this.params.expires,path:this.params.path}),t&&Cookies.set(this.params.campaign_tactic,t,{expires:this.params.expires,path:this.params.path}),[this.params.campaign_utm_source,this.params.campaign_utm_medium,this.params.campaign_utm_campaign,this.params.campaign_utm_content,this.params.campaign_utm_term]),r=0;r<i.length;r++){var n=this.getParameterByName(i[r]);n&&Cookies.set(i[r],n,{expires:this.params.expires,path:this.params.path})}var s=this.splitParams(this.params.additional_persistent_tracking);if(s.length)for(var o=0;o<s.length;o++){var m=s[o];if(!m)break;var p=this.getParameterByName(m);p&&Cookies.set(m,p,{expires:this.params.expires,path:this.params.path})}},update_tracking_field:function(){var e=document.getElementsByClassName("bbgfb_campaign");if(!e)return!1;var a=Cookies.get(this.params.campaign);if(a&&e)for(var t=0,i=e.length;t<i;t++)e[t].value=a;var r=document.getElementsByClassName("bbgfb_campaign_mpam");if(!r)return!1;var n=Cookies.get(this.params.campaign_mpam);if(n&&r)for(var s=0,o=r.length;s<o;s++)r[s].value=n;var m=document.getElementsByClassName("bbgfb_campaign_tactic");if(!m)return!1;var p=Cookies.get(this.params.campaign_tactic);if(p&&m)for(var c=0,u=m.length;c<u;c++)m[c].value=p;for(var g=[this.params.campaign_utm_source,this.params.campaign_utm_medium,this.params.campaign_utm_campaign,this.params.campaign_utm_content,this.params.campaign_utm_term],f=0;f<g.length;f++){var h=document.querySelectorAll('[name="'+g[f]+'"]');h.length&&Array.from(h).forEach(function(e){var a=Cookies.get(e.name);a&&(e.value=a)})}if(document.querySelectorAll(".bbgfb").length){for(var l=this.splitParams(this.params.additional_persistent_tracking),d=0;d<l.length;d++){var _=l[d],v=this.getTieredValue(_),b=document.querySelectorAll(".bbgfb [name="+_+"]");if(v&&b.length)for(var k=0;k<b.length;k++)b[k].value=v}var C=this.params.additional_persistent_tracking_sfmc;if(C&&C.length)for(var y=0;y<C.length;y++){var x=C[y].original_param||null,w=C[y].salesforce_param||null,B=this.getTieredValue(x),N=document.querySelectorAll(".bbgfb [name="+w+"]");if(B&&N.length)for(var P=0;P<N.length;P++)N[P].value=B}}},init:function(){if(!this.read_params())return!1;this.set_cookies(),this.update_tracking_field()}}).init()}();